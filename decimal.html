<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="text" id="text" />
		<script>
			document.getElementById('text').addEventListener("input",function(){
				console.log(this.value)
				//判断是否同时存在小数点和句号，如果是，则删除句号
				if(this.value.indexOf('。') !=-1&&this.value.indexOf('.') !=-1){
					this.value = this.value.substr(0,this.value.indexOf('。'))
				}
				//判断如果是存在句号不存在小数点时，则把句号删除改变成小数点
				if(this.value.indexOf('。') !=-1&&this.value.indexOf('.') ==-1){
					this.value = this.value.substr(0,this.value.indexOf('。'))+"."
				}
				if(this.value.indexOf('.')==0){
					this.value = 0+this.value
				}
			})
		</script>
	</body>
</html>
